<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEMORY</title> 
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index_Mobile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <!-- Pretendard 폰트 -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" />
    <!-- 스와이퍼 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <!-- nav -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- jQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script>
		document.addEventListener("DOMContentLoaded", function () {
			var closeButton = document.querySelector(".closep");
			var navbarCollapse = document.querySelector(".navbar-collapse");

			closeButton.addEventListener("click", function () {
				navbarCollapse.classList.toggle("show");
			});
		});
        </script>
</head>
<body>
    <!-- navbar -->
	<nav class="navbar navbar-expand-lg">
		<div class="container-fluid">
			<a class="navbar-brand" href="/"> <img src="imgs/main_lg.png"></a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
				aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"
				style="border:none">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
				<div class="closeclose">
					<button type="button" class="closep"><img src="imgs/close.png" alt="" class="closeimg"
							style="width: 2svh; height: 2svh; display: flex;"></button>
				</div>
				<div class="navbar-nav">
					<a class="nav-link" href="/">HOME</a>
					<!-- <a class="nav-link" href="#">ABOUT</a> -->
					<a class="nav-link" href="/gallery">MEMORY</a>
					<a class="nav-link" href="/guest">COMMENT</a>
				</div>
			</div>
		</div>
	</nav>

    <!-- navbar -->

    <!-- content -->
    <div class="content">
        <img src="./imgs/back.png" class="backgorund"/>
        <div class="swiper">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper">
                <!-- Slides -->

                <!-- 메인 텍스트 변수 -->
                <% let arr = [['W','A','T','E','R','G','U','N',' ','G','A','M','E'], 
                    ['C','L','A','S','S','I','C','A','L',' ','C','O','N','C','E','R','T'],
                    ['W','A','T','E','R','G','U','N',' ','G','A','M','E'],
                    ['W','A','T','E','R','G','U','N',' ','G','A','M','E'],
                    ['W','A','T','E','R','G','U','N',' ','G','A','M','E'],
                    ['W','A','T','E','R','G','U','N',' ','G','A','M','E'],
                    ['W','A','T','E','R','G','U','N',' ','G','A','M','E']];%>

                <% for(let i=0; i<7; i++) { %>
                <div class="swiper-slide">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/test_video.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <span class="main_txt">
                        <% for(let j=0; j<arr[i].length; j++) { %>
                            <%if(arr[i][j]==' ') {%>
                                <br>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[i][j] %></span>
                            <% }%>
                        <% }%>
                    </span>

                    <p class="num_txt1">
                        0<%= i+1 %>
                    </p>
                    <p class="num_txt2">
                        07
                    </p>

                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>
                <% } %>
            </div>

            <!-- swiper scrollbar -->
            <div class="swiper-scrollbar"></div>
        </div>

    </div>
    <!-- content -->    

    <!-- footer -->
    <!-- <footer id="footer">
		<nav class="navbar navbar-expand-lg">
			<img src="imgs/main_lg.png" class="logo-bottom" href="#"></a>
		<div class="navbar-nav-bottom">
			<a class="nav-link-b" href="#">HOME</a>
            <a class="nav-link" href="#">ABOUT</a>
			<a class="nav-link-b" href="gallery">MEMORY</a>
			<a class="nav-link-b" href="guest">COMMENT</a>
		</div>
		</nav>

		<div class="line-bottom"></div>
		<div class="navbar-bottom-bottom">
			<a class="nav-link-b-b">©2023 MSG. All rights reserved</a>
		</div>
	</footer> -->
    <!-- footer -->
    <script>
        const swiper = new Swiper('.swiper', {
          // Optional parameters
            slidesPerView: 1,
            direction: 'horizontal',
            loop: true,
            loopedSlides: 1,
            slideToClickedSlide : true,
            allowTouchMove : true,
            mousewheel: true,
            speed : 1000,
            threshold:100,

            autoplay : {  // 자동 슬라이드 설정 , 비 활성화 시 false
                delay : 11000,   // 시간 설정
                disableOnInteraction : false,  // false로 설정하면 스와이프 후 자동 재생이 비활성화 되지 않음
            },

            scrollbar: {
                el: '.swiper-scrollbar',
                draggable: true,
                clickable: true,
            },
            
            
            on :{
                slideChange: function(){
                    var target = $('.animate__animated');

                    target.removeClass("animate__fadeInUp"),
                    void target.outerWidth(),
                    target.addClass("animate__fadeInUp");
                }
            },
        });


        var sw = 0;
        $('.btn_pause').click(function(){
            if(sw==0){
                $('.btn_pause').addClass('on');
                swiper.autoplay.stop();
                sw = 1;
            }else{
                $('.btn_pause').removeClass('on');
                swiper.autoplay.start();
                sw = 0;
            }
        });
    
    </script>
</body>
</html>