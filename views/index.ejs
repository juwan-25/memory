<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>MEMORY</title> 
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="index_Mobile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <!-- Pretendard 폰트 -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" />
    <!-- 스와이퍼 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <!-- nav -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- jQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script>
		document.addEventListener("DOMContentLoaded", function () {
			var closeButton = document.querySelector(".closep");
			var navbarCollapse = document.querySelector(".navbar-collapse");

			closeButton.addEventListener("click", function () {
				navbarCollapse.classList.toggle("show");
			});
		});
        </script>
</head>
<body>
    <!-- navbar -->
	<nav class="navbar navbar-expand-lg">
		<div class="container-fluid">
			<a class="navbar-brand" href="/"> <img src="imgs/main_lg.png"></a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
				aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"
				style="border:none">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
				<div class="closeclose">
					<button type="button" class="closep"><img src="imgs/close.png" alt="" class="closeimg"
							style="width: 2svh; height: 2svh; display: flex;"></button>
				</div>
				<div class="navbar-nav">
					<a class="nav-link" href="/">HOME</a>
					<!-- <a class="nav-link" href="#">ABOUT</a> -->
					<a class="nav-link" href="/gallery">MEMORY</a>
					<a class="nav-link" href="/guest">COMMENT</a>
				</div>
			</div>
		</div>
	</nav>

    <!-- navbar -->

    <!-- content -->
    <div class="content">
        <img src="./imgs/Frame 3.png" class="background"/>

        <!-- swiper -->
        <div class="swiper">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper">
                <!-- Slides -->
                <!-- 메인 텍스트 변수 -->
                <% let arr = [['C','L','A','S','S','I','C','A','L','br','C','O','N','C','E','R','T'],
                    ['W','A','T','E','R','G','U','N',' ','br','G','A','M','E'], 
                    ['D','E','L','I','G','H','T','F','U','L',' ','br','S','P','R','I','N','G'],
                    ['D','A','N','C','E',' ','A','L','L','br','N','I','G','H','T',' ','L','O','N','G'],
                    ['C','H','E','E','R',' ','O','N','br','A','T',' ','T','H','E',' ','S','H','O','W'],
                    ['A',' ','S','E','C','R','E','T','br','M','A','F','I','A',' ','G','A','M','E']];%>

                <!-- slide1 -->
                <div class="swiper-slide slide1">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/video1.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <div class="main_txt">
                        <% for(let j=0; j<arr[0].length; j++) { %>
                            <%if(arr[0][j]=='br') {%>
                                <br>
                            <% } else if(arr[0][j]==' ') {%>
                                <span>&nbsp;</span>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[0][j] %></span>
                            <% }%>
                        <% }%>
                    </div>

                    <p class="num_txt1">
                        01
                    </p>
                    <p class="num_txt2">
                        06
                    </p>

                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>

                <!-- slide2 -->
                <div class="swiper-slide slide2">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/video2.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <span class="main_txt">
                        <% for(let j=0; j<arr[1].length; j++) { %>
                            <%if(arr[1][j]=='br') {%>
                                <br>
                            <% } else if(arr[1][j]==' ') {%>
                                <span>&nbsp;</span>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[1][j] %></span>
                            <% }%>
                        <% }%>
                    </span>

                    <p class="num_txt1">
                        02
                    </p>
                    <p class="num_txt2">
                        06
                    </p>

                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>

                <!-- slide3 -->
                <div class="swiper-slide slide3">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/video3.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <span class="main_txt">
                        <% for(let j=0; j<arr[2].length; j++) { %>
                            <%if(arr[2][j]=='br') {%>
                                <br>
                            <% } else if(arr[2][j]==' ') {%>
                                <span>&nbsp;</span>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[2][j] %></span>
                            <% }%>
                        <% }%>
                    </span>

                    <p class="num_txt1">
                        03
                    </p>
                    <p class="num_txt2">
                        06
                    </p>

                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>

                <!-- slide4 -->
                <div class="swiper-slide slide4">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/video4.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <span class="main_txt">
                        <% for(let j=0; j<arr[3].length; j++) { %>
                            <%if(arr[3][j]=='br') {%>
                                <br>
                            <% } else if(arr[3][j]==' ') {%>
                                <span>&nbsp;</span>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[3][j] %></span>
                            <% }%>
                        <% }%>
                    </span>

                    <p class="num_txt1">
                        04
                    </p>
                    <p class="num_txt2">
                        06
                    </p>

                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>

                <!-- slide5 -->
                <div class="swiper-slide slide5">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/video5.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <span class="main_txt">
                        <% for(let j=0; j<arr[4].length; j++) { %>
                            <%if(arr[4][j]=='br') {%>
                                <br>
                            <% } else if(arr[4][j]==' ') {%>
                                <span>&nbsp;</span>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[4][j] %></span>
                            <% }%>
                        <% }%>
                    </span>

                    <p class="num_txt1">
                        05
                    </p>
                    <p class="num_txt2">
                        06
                    </p>

                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>

                <!-- slide6 -->
                <div class="swiper-slide slide6">
                    <!-- 배경 3D 비디오 -->
                    <video class="video" autoplay loop muted playsinline preload="auto">
                        <source src="./video/video6.mp4" type="video/mp4">
                     </video>
                    
                     <p class="sub_txt1">
                        미림인의 낭만이 모인<br>
                        기억 전시 바로가기
                    </p>
                    <a href="/gallery"><img src="./imgs/gallery_btn.png" class="btn_gallery"/></a>
                    
                    <p class="sub_txt2">
                        MSG 동아리 부원들이<br>
                        학교에서 모은 소중한 기억들
                    </p>            
                    
                    <span class="main_txt">
                        <% for(let j=0; j<arr[5].length; j++) { %>
                            <%if(arr[5][j]=='br') {%>
                                <br>
                            <% } else if(arr[5][j]==' ') {%>
                                <span>&nbsp;</span>
                            <% } else {%>
                                <span class="animate__animated animate__fadeInUp"><%= arr[5][j] %></span>
                            <% }%>
                        <% }%>
                    </span>

                    <p class="num_txt1">
                        06
                    </p>
                    <p class="num_txt2">
                        06
                    </p>  
                    <img src="./imgs/play_btn.png" class="btn_pause"/>
                </div>
            </div>

            <!-- swiper scrollbar -->
            <div class="swiper-scrollbar"></div>
            <div class="swiper-pagination"></div>
        </div>
        <!-- swiper -->

        <a href="/gallery"><div class="typing"></div></a>
        <a href="/gallery">
        <div class="bottom_content">
            <p class="bottom_txt">
                미림인의 낭만이 모인<br>
                기억 전시 바로가기  
            </p>
        </a>
        <p class="typing-txt">상단 화살표 버튼을 클릭해주세요.</p>
        <a href="/gallery"><img class="btn_gallery_b" alt="기억 전시 버튼" src="imgs/gallery_btn2.png"></a>
        <a class="scroll"><span></span></a>
        </div>

    </div>
    <!-- content -->    

    <!-- footer -->
    <!-- <footer id="footer">
		<nav class="navbar navbar-expand-lg">
			<img src="imgs/main_lg.png" class="logo-bottom" href="#"></a>
		<div class="navbar-nav-bottom">
			<a class="nav-link-b" href="#">HOME</a>
            <a class="nav-link" href="#">ABOUT</a>
			<a class="nav-link-b" href="gallery">MEMORY</a>
			<a class="nav-link-b" href="guest">COMMENT</a>
		</div>
		</nav>

		<div class="line-bottom"></div>
		<div class="navbar-bottom-bottom">
			<a class="nav-link-b-b">©2023 MSG. All rights reserved</a>
		</div>
	</footer> -->
    <!-- footer -->
    <script>
        window.scrollTo(0, 0);
        
        $('.typing-txt').hide();
        var typingBool = false; 
        var typingIdx=0; 

        var typingImg = ['imgs/기.png', 'imgs/억.png', 'imgs/쉼표.png', ]

        if(typingBool==false){ 
            // 타이핑이 진행되지 않았다면 
            typingBool=true;     
            var tyInt = setInterval(typing,200); // 반복동작 
        } 
            
        function typing(){ 
            if(typingIdx<3){
                const img = new Image();
                img.src = `${typingImg[typingIdx]}`;

                $(".typing").append(img);
            
                typingIdx++; 
            } else{ 
                //끝나면 반복종료 
                clearInterval(tyInt); 
            } 
        }  


        const swiper = new Swiper('.swiper', {
            // Optional parameters
            slideToClickedSlide : true,
            allowTouchMove : true,
            threshold:100,
            watchOverflow : true,
            mousewheel: true,
            grabCursor: true,

            autoplay : {  // 자동 슬라이드 설정 , 비 활성화 시 false
                delay : 7000,   // 시간 설정
                disableOnInteraction : false,  // false로 설정하면 스와이프 후 자동 재생이 비활성화 되지 않음
            },

            breakpoints: {
                0:{
                    slidesPerView: 2,
                    direction: 'vertical', 
                    loop: false,
                    slideToClickedSlide : true,
                    allowTouchMove : true,
                    threshold:100,
                    watchOverflow : true,
                    mousewheel: true,
                    grabCursor: true,
                },
                479:{
                    slidesPerView: 1,
                    direction: 'horizontal',  
                    loop: true,      

                }, 
            },

            scrollbar: {
                el: '.swiper-scrollbar',
                draggable: true,
                clickable: true,
            },


            on :{
                slideChange: function(){
                    var target = $('.animate__animated');

                    target.removeClass("animate__fadeInUp"),
                    void target.outerWidth(),
                    target.addClass("animate__fadeInUp");
                },
            },
            
        
        });

        swiper.on('reachEnd', function () {
            setTimeout(function() {
                $('.typing-txt').show();
                window.scrollTo(0, 0);
            }, 4000);
        });

        var sw = 0;
        $('.btn_pause').click(function(){
            if(sw==0){
                $('.btn_pause').addClass('on');
                swiper.autoplay.stop();
                sw = 1;
            }else{
                $('.btn_pause').removeClass('on');
                swiper.autoplay.start();
                sw = 0;
            }
        });

        $('.scroll').click(function(){
            setTimeout(function() {
                window.scrollTo(0, 1000);
            }, 1000);
        });


        // window.addEventListener('wheel', function (event) {
        //     if (event.deltaY < 0) {
        //     swiper.mousewheel.enable();
        //     } else if (event.deltaY > 0) {
        //     }
        // });
    </script>
</body>
</html>