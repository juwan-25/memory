<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>게시물 상세 페이지</title>
    <link rel="stylesheet" href="/Post_Details.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" />
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  </head>
  <body>
    <header>
      <div class="header_btn">

      <!-- nav바 -->
      <nav class="navbar navbar-expand-lg bg-white">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Navbar</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link" href="#">HOME</a>
              <a class="nav-link" href="#">ABOUT</a>
              <a class="nav-link" href="/gallery">MEMORY</a>
              <a class="nav-link" href="/guest">COMMENT</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <hr style="color: #464646; border: 2px solid" id="title_line1"/>
      <div class="title" style="font-size: 20px;"><%= data1[0]?.title %></div>
      <hr style="color: #e0e0e0; border: 1px solid" />

      <!-- 글 내용 -->
      <div class="detail_content" style="font-size: 16px;">
        <%= data1[0]?.content %>
      </div>
      
      <div class="modal">
        
        <img class="modal_content" id="img01">
      </div>

      <div id="container">
        <button id="btn-modal"><img src="<%= data1[0]?.mimage %>" width="100%" height="20.93%" class="img"></button>
        <div id="lorem-ipsum"></div>
    </div>

    <div id="modal" class="modal-overlay">
        <div class="content">
          <img src="<%= data1[0]?.mimage %>" width="100%" height="20.93%" class="modal_img">
        </div>
    </div>

    <script>
      const modal = document.getElementById("modal")
      const btnModal = document.getElementById("btn-modal")
      btnModal.addEventListener("click", e => {
        modal.style.display = "flex"
      })

      modal.addEventListener("click", e => {
      const evTarget = e.target
        if(evTarget.classList.contains("modal-overlay")) {
          modal.style.display = "none"
        }
      })
    </script>


      <hr style="color: #dcdcdc; border: 0.5px solid" id="main_line"/>

      <!-- 댓글 -->
      <div>
        <form method="post" action="/details/<%= data1[0]?.boardId %>/insert">
        <div class="comment_enter" 
          style="
            margin-top: 80px;
            border: 1px solid;
            padding: 24px 28px 54px;
            border-radius: 5px;
            color: #f1f1f1;
            box-shadow: 1px 1px 2px 2px #f1f1f1;
          ">
          <input class="nickname" type="text" id="name" name="name" placeholder="닉네임" /><br />
          <hr
            style="
              background-color: #f1f1f1;
              width: 100%;
              float: left;
              border: 1px solid;
            "
          />
          <input
            class="comment_content"
            type="text"
            id="content" 
            name="content" 
            placeholder="내용을 작성주세요"
          />
          </div>
          <button class="enter_btn"><font color="#BABABA">등록</font></button>
        </form>
      </div>
      <br />

      <!-- 등록된 댓글 -->
      <% for(let i=0;i<data2.length;i++){ %>
      <div class="e_comment">
        <div class="e_nickname"><%= data2[i].writer %></div>
        <hr style="color: #f1f1f1; border: 1px solid" />
        <div class="e_content">
          <%= data2[i].content %>
        </div>
      </div>
      <% } %>
    </main>

    <footer
      style="
        margin-top: 126px;
        background-color: #d9d9d9;
        width: 100%;
        height: 300px;
      "
    ></footer>
  </body>
</html>
